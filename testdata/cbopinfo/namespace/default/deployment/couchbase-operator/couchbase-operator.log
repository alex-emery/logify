{"level":"info","ts":1689339614.7539008,"logger":"main","msg":"couchbase-operator","version":"2.5.0 (build 999)","revision":"5b91350a403ad100b68cacf0246341569e6cadf9"}
{"level":"info","ts":1689339614.761962,"logger":"controller-runtime.metrics","msg":"Metrics server is starting to listen","addr":"0.0.0.0:8383"}
{"level":"info","ts":1689339614.762343,"msg":"Starting server","path":"/metrics","kind":"metrics","addr":"[::]:8383"}
{"level":"info","ts":1689339614.762395,"msg":"attempting to acquire leader lease default/couchbase-operator...\n"}
{"level":"info","ts":1689339614.7659893,"msg":"successfully acquired lease default/couchbase-operator\n"}
{"level":"info","ts":1689339614.7661016,"msg":"Starting EventSource","controller":"couchbase-controller","source":"kind source: *v2.CouchbaseCluster"}
{"level":"info","ts":1689339614.766121,"msg":"Starting Controller","controller":"couchbase-controller"}
{"level":"info","ts":1689339614.8664703,"msg":"Starting workers","controller":"couchbase-controller","worker count":4}
{"level":"info","ts":1689339906.4027176,"logger":"cluster","msg":"Watching new cluster","cluster":"default/cb-example"}
{"level":"info","ts":1689339929.4572399,"logger":"cluster","msg":"Janitor starting","cluster":"default/cb-example"}
{"level":"info","ts":1689339934.457433,"logger":"cluster","msg":"Couchbase client starting","cluster":"default/cb-example"}
{"level":"info","ts":1689339949.4604974,"logger":"cluster","msg":"Running","cluster":"default/cb-example"}
{"level":"info","ts":1689339949.4633937,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  string(\n- \t\"size: 0\\n\",\n+ \t\"members: {}\\nsize: 0\\n\",\n  )\n"}
{"level":"info","ts":1689339949.4850307,"logger":"cluster","msg":"Creating TLS secret `cb-example-tls-ca-shadow`","cluster":"default/cb-example"}
{"level":"info","ts":1689339949.489211,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  string(\n- \t\"members: {}\\nsize: 0\\n\",\n+ \t\"allocations:\\n- allocatedMemory: 2Gi\\n  analyticsServiceAllocation: 1Gi\\n  dataServiceAllocation: 256Mi\\n  eventingServiceAllocation: 256Mi\\n  indexServiceAllocation: 256Mi\\n  name: all_services\\n  searchServiceAllocation: 256Mi\\nconditions:\\n- lastTransitionTime: \"...,\n  )\n"}
{"level":"info","ts":1689339949.501324,"logger":"cluster","msg":"Cluster does not exist so the operator is attempting to create it","cluster":"default/cb-example"}
{"level":"info","ts":1689339954.5038157,"logger":"cluster","msg":"Couchbase client starting","cluster":"default/cb-example"}
{"level":"info","ts":1689339972.5179965,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 13 identical lines\n  \t  status: \"False\"\n  \t  type: Available\n+ \tcurrentVersion: 7.1.3\n  \tmembers: {}\n  \tsize: 0\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689339972.536483,"logger":"kubernetes","msg":"Creating pod","cluster":"default/cb-example","name":"cb-example-0000","image":"couchbase/server:7.1.3"}
{"level":"info","ts":1689339994.920085,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 14 identical lines\n  \t  type: Available\n  \tcurrentVersion: 7.1.3\n- \tmembers: {}\n- \tsize: 0\n+ \tmembers:\n+ \t  ready:\n+ \t  - cb-example-0000\n+ \tsize: 1\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689339994.9477053,"logger":"cluster","msg":"Initial pod creating","cluster":"default/cb-example"}
{"level":"info","ts":1689340003.4055595,"logger":"cluster","msg":"Operator added member","cluster":"default/cb-example","name":"cb-example-0000"}
{"level":"info","ts":1689340003.4196382,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 6 identical lines\n  \t  name: all_services\n  \t  searchServiceAllocation: 256Mi\n+ \tclusterId: 53221f424064415466a4a2c759b29891\n  \tconditions:\n  \t- lastTransitionTime: \"2023-07-14T13:05:49Z\"\n  \t... // 3 identical lines\n  \t  status: \"False\"\n  \t  type: Available\n+ \t- lastTransitionTime: \"2023-07-14T13:06:43Z\"\n+ \t  lastUpdateTime: \"2023-07-14T13:06:43Z\"\n+ \t  message: Data is equally distributed across all nodes in the cluster\n+ \t  reason: Balanced\n+ \t  status: \"True\"\n+ \t  type: Balanced\n  \tcurrentVersion: 7.1.3\n  \tmembers:\n  \t... // 4 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340004.4185083,"logger":"cluster","msg":"Cluster status","cluster":"default/cb-example","balance":"balanced","rebalancing":false}
{"level":"info","ts":1689340004.4185307,"logger":"cluster","msg":"Node status","cluster":"default/cb-example","name":"cb-example-0000","version":"7.1.3","class":"all_services","managed":true,"status":"Active"}
{"level":"info","ts":1689340004.6201537,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 20 identical lines\n  \t  status: \"True\"\n  \t  type: Balanced\n+ \t- lastTransitionTime: \"2023-07-14T13:06:44Z\"\n+ \t  lastUpdateTime: \"2023-07-14T13:06:44Z\"\n+ \t  message: The operator is attempting to scale the cluster\n+ \t  reason: ClusterScaling\n+ \t  status: \"True\"\n+ \t  type: Scaling\n+ \t- lastTransitionTime: \"2023-07-14T13:06:44Z\"\n+ \t  lastUpdateTime: \"2023-07-14T13:06:44Z\"\n+ \t  message: Scaling Server Class all_services from 1 to 3\n+ \t  reason: ScalingUp\n+ \t  status: \"True\"\n+ \t  type: ScalingUp\n  \tcurrentVersion: 7.1.3\n  \tmembers:\n  \t... // 4 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340004.8324237,"logger":"kubernetes","msg":"Creating pod","cluster":"default/cb-example","name":"cb-example-0002","image":"couchbase/server:7.1.3"}
{"level":"info","ts":1689340004.8324237,"logger":"kubernetes","msg":"Creating pod","cluster":"default/cb-example","name":"cb-example-0001","image":"couchbase/server:7.1.3"}
{"level":"info","ts":1689340023.1217477,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 36 identical lines\n  \t  ready:\n  \t  - cb-example-0000\n- \tsize: 1\n+ \t  unready:\n+ \t  - cb-example-0001\n+ \tsize: 2\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340030.4207911,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 38 identical lines\n  \t  unready:\n  \t  - cb-example-0001\n- \tsize: 2\n+ \t  - cb-example-0002\n+ \tsize: 3\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340032.6553462,"logger":"cluster","msg":"Pod added to cluster","cluster":"default/cb-example","name":"cb-example-0001"}
{"level":"info","ts":1689340035.1685677,"logger":"cluster","msg":"Pod added to cluster","cluster":"default/cb-example","name":"cb-example-0002"}
{"level":"info","ts":1689340035.1776686,"logger":"cluster","msg":"reconciler","clustered":["cb-example-0000","cb-example-0001"],"running":["cb-example-0000","cb-example-0001"],"eject":[],"unclustered":[],"rebalance":true}
{"level":"info","ts":1689340035.1777189,"logger":"cluster","msg":"reconciler","clustered":["cb-example-0000","cb-example-0001","cb-example-0002"],"running":["cb-example-0000","cb-example-0001","cb-example-0002"],"eject":[],"unclustered":[],"rebalance":true}
{"level":"info","ts":1689340035.1953573,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 14 identical lines\n  \t  status: \"False\"\n  \t  type: Available\n- \t- lastTransitionTime: \"2023-07-14T13:06:43Z\"\n- \t  lastUpdateTime: \"2023-07-14T13:06:43Z\"\n- \t  message: Data is equally distributed across all nodes in the cluster\n- \t  reason: Balanced\n- \t  status: \"True\"\n+ \t- lastTransitionTime: \"2023-07-14T13:07:15Z\"\n+ \t  lastUpdateTime: \"2023-07-14T13:07:15Z\"\n+ \t  message: The operator is attempting to rebalance the data to correct this issue\n+ \t  reason: Unbalanced\n+ \t  status: \"False\"\n  \t  type: Balanced\n  \t- lastTransitionTime: \"2023-07-14T13:06:44Z\"\n  \t... // 20 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340037.0820749,"logger":"cluster","msg":"Rebalancing","cluster":"default/cb-example","progress":0}
{"level":"info","ts":1689340041.083895,"logger":"cluster","msg":"Rebalancing","cluster":"default/cb-example","progress":16.66666666666667}
{"level":"info","ts":1689340045.0854921,"logger":"cluster","msg":"Rebalancing","cluster":"default/cb-example","progress":18.33333333333334}
{"level":"info","ts":1689340049.087084,"logger":"cluster","msg":"Rebalancing","cluster":"default/cb-example","progress":33.33333333333334}
{"level":"info","ts":1689340053.0889752,"logger":"cluster","msg":"Rebalancing","cluster":"default/cb-example","progress":33.33333333333334}
{"level":"info","ts":1689340062.093372,"logger":"cluster","msg":"Rebalance completed successfully","cluster":"default/cb-example"}
{"level":"info","ts":1689340062.0998697,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 14 identical lines\n  \t  status: \"False\"\n  \t  type: Available\n- \t- lastTransitionTime: \"2023-07-14T13:07:15Z\"\n- \t  lastUpdateTime: \"2023-07-14T13:07:15Z\"\n- \t  message: The operator is attempting to rebalance the data to correct this issue\n- \t  reason: Unbalanced\n- \t  status: \"False\"\n+ \t- lastTransitionTime: \"2023-07-14T13:07:42Z\"\n+ \t  lastUpdateTime: \"2023-07-14T13:07:42Z\"\n+ \t  message: Data is equally distributed across all nodes in the cluster\n+ \t  reason: Balanced\n+ \t  status: \"True\"\n  \t  type: Balanced\n  \t- lastTransitionTime: \"2023-07-14T13:06:44Z\"\n  \t... // 20 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340062.125221,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 36 identical lines\n  \t  ready:\n  \t  - cb-example-0000\n- \t  unready:\n  \t  - cb-example-0001\n  \t  - cb-example-0002\n  \t... // 2 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340062.1850572,"logger":"cluster","msg":"Bucket created","cluster":"default/cb-example","name":"default"}
{"level":"info","ts":1689340063.0090292,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 6 identical lines\n  \t  name: all_services\n  \t  searchServiceAllocation: 256Mi\n+ \tbuckets:\n+ \t- compressionMode: passive\n+ \t  conflictResolution: seqno\n+ \t  enableFlush: false\n+ \t  enableIndexReplica: false\n+ \t  evictionPolicy: valueOnly\n+ \t  ioPriority: low\n+ \t  memoryQuota: 100\n+ \t  name: default\n+ \t  password: \"\"\n+ \t  replicas: 1\n+ \t  storageBackend: couchstore\n+ \t  type: couchbase\n  \tclusterId: 53221f424064415466a4a2c759b29891\n  \tconditions:\n  \t... // 32 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340063.1027336,"logger":"cluster","msg":"Backup created","cluster":"default/cb-example","cbbackup":"my-backup"}
{"level":"info","ts":1689340064.0052075,"logger":"cluster","msg":"Resource updated","cluster":"default/cb-example","diff":"  (\n  \t\"\"\"\n  \t... // 21 identical lines\n  \tclusterId: 53221f424064415466a4a2c759b29891\n  \tconditions:\n- \t- lastTransitionTime: \"2023-07-14T13:05:49Z\"\n- \t  lastUpdateTime: \"2023-07-14T13:05:49Z\"\n- \t  message: The cluster is being created\n- \t  reason: Creating\n- \t  status: \"False\"\n+ \t- lastTransitionTime: \"2023-07-14T13:07:44Z\"\n+ \t  lastUpdateTime: \"2023-07-14T13:07:44Z\"\n+ \t  reason: Available\n+ \t  status: \"True\"\n  \t  type: Available\n  \t- lastTransitionTime: \"2023-07-14T13:07:42Z\"\n  \t  lastUpdateTime: \"2023-07-14T13:07:42Z\"\n  \t  message: Data is equally distributed across all nodes in the cluster\n  \t  reason: Balanced\n- \t  status: \"True\"\n- \t  type: Balanced\n- \t- lastTransitionTime: \"2023-07-14T13:06:44Z\"\n- \t  lastUpdateTime: \"2023-07-14T13:06:44Z\"\n- \t  message: The operator is attempting to scale the cluster\n- \t  reason: ClusterScaling\n- \t  status: \"True\"\n- \t  type: Scaling\n- \t- lastTransitionTime: \"2023-07-14T13:06:44Z\"\n- \t  lastUpdateTime: \"2023-07-14T13:06:44Z\"\n- \t  message: Scaling Server Class all_services from 1 to 3\n- \t  reason: ScalingUp\n  \t  status: \"True\"\n- \t  type: ScalingUp\n+ \t  type: Balanced\n  \tcurrentVersion: 7.1.3\n  \tmembers:\n  \t... // 6 identical lines\n  \t\"\"\"\n  )\n"}
{"level":"info","ts":1689340089.6404061,"logger":"cluster","msg":"Backup updated","cluster":"default/cb-example","cbbackup":"my-backup"}
